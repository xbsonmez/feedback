{"ast":null,"code":"import _asyncToGenerator from\"/Users/burak.sonmez/Desktop/burak/feedbacky/feedback/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/burak.sonmez/Desktop/burak/feedbacky/feedback/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import{SEND_FEEDBACK_REQUEST,SEND_FEEDBACK_SUCCESS,SEND_FEEDBACK_FAILURE,GET_FEEDBACK_REQUEST,GET_FEEDBACK_SUCCESS,GET_FEEDBACK_FAILURE}from'../constants';import errorMessage from'./errorMessage';import{openModal}from'./modalActions';import{FEEDBACK_FAILURE_MODAL,FEEDBACK_SUCCES_MODAL}from'../constants';export var sendFeedBacks=function sendFeedBacks(text){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var requestData,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:SEND_FEEDBACK_REQUEST});requestData={\"feedbacks\":text};_context.next=5;return axios.post('https://feedbackybe.herokuapp.com/feedbacks',requestData);case 5:res=_context.sent;dispatch({type:SEND_FEEDBACK_SUCCESS,payload:res.data});dispatch(openModal(FEEDBACK_SUCCES_MODAL));_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:SEND_FEEDBACK_FAILURE,payload:errorMessage});dispatch(openModal(FEEDBACK_FAILURE_MODAL));case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getFeedBacks=function getFeedBacks(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:GET_FEEDBACK_REQUEST});_context2.next=4;return axios.get('https://feedbackybe.herokuapp.com/feedbacks');case 4:res=_context2.sent;dispatch({type:GET_FEEDBACK_SUCCESS,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);dispatch({type:GET_FEEDBACK_FAILURE,payload:errorMessage});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","SEND_FEEDBACK_REQUEST","SEND_FEEDBACK_SUCCESS","SEND_FEEDBACK_FAILURE","GET_FEEDBACK_REQUEST","GET_FEEDBACK_SUCCESS","GET_FEEDBACK_FAILURE","errorMessage","openModal","FEEDBACK_FAILURE_MODAL","FEEDBACK_SUCCES_MODAL","sendFeedBacks","text","dispatch","type","requestData","post","res","payload","data","getFeedBacks","get"],"sources":["/Users/burak.sonmez/Desktop/burak/feedbacky/feedback/src/store/actions/feedbackActions.js"],"sourcesContent":["import axios from 'axios';\nimport {\n    SEND_FEEDBACK_REQUEST,\n    SEND_FEEDBACK_SUCCESS,\n    SEND_FEEDBACK_FAILURE,\n    GET_FEEDBACK_REQUEST,\n    GET_FEEDBACK_SUCCESS,\n    GET_FEEDBACK_FAILURE,\n  } from '../constants';\n\nimport errorMessage from './errorMessage';\n\nimport { openModal } from './modalActions';\n  import { FEEDBACK_FAILURE_MODAL, FEEDBACK_SUCCES_MODAL } from '../constants';\n\nexport const sendFeedBacks = (text) => async dispatch => {\n  try {\n    dispatch({\n      type: SEND_FEEDBACK_REQUEST\n    });\n\n    const requestData = \n    {\n        \"feedbacks\": text\n    };\n\n    const res = await axios.post('https://feedbackybe.herokuapp.com/feedbacks', requestData\n    );\n\n    dispatch({\n      type: SEND_FEEDBACK_SUCCESS,\n      payload: res.data\n    });\n\n    dispatch(openModal(FEEDBACK_SUCCES_MODAL));\n\n  } catch (e) {\n    dispatch({\n      type: SEND_FEEDBACK_FAILURE,\n      payload: errorMessage\n    });\n    dispatch(openModal(FEEDBACK_FAILURE_MODAL));\n  }\n};\n\n\nexport const getFeedBacks = () => async dispatch => {\n    try {\n      dispatch({\n        type: GET_FEEDBACK_REQUEST\n      });\n\n      const res = await axios.get('https://feedbackybe.herokuapp.com/feedbacks');\n  \n      dispatch({\n        type: GET_FEEDBACK_SUCCESS,\n        payload: res.data\n      });\n  \n    } catch (e) {\n      dispatch({\n        type: GET_FEEDBACK_FAILURE,\n        payload: errorMessage\n      });\n    }\n  };"],"mappings":"uRAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OACIC,qBADJ,CAEIC,qBAFJ,CAGIC,qBAHJ,CAIIC,oBAJJ,CAKIC,oBALJ,CAMIC,oBANJ,KAOS,cAPT,CASA,MAAOC,aAAP,KAAyB,gBAAzB,CAEA,OAASC,SAAT,KAA0B,gBAA1B,CACE,OAASC,sBAAT,CAAiCC,qBAAjC,KAA8D,cAA9D,CAEF,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,IAAD,iGAAU,iBAAMC,QAAN,sJAEnCA,QAAQ,CAAC,CACPC,IAAI,CAAEb,qBADC,CAAD,CAAR,CAIMc,WAN6B,CAOnC,CACI,YAAaH,IADjB,CAPmC,uBAWjBZ,MAAK,CAACgB,IAAN,CAAW,6CAAX,CAA0DD,WAA1D,CAXiB,QAW7BE,GAX6B,eAcnCJ,QAAQ,CAAC,CACPC,IAAI,CAAEZ,qBADC,CAEPgB,OAAO,CAAED,GAAG,CAACE,IAFN,CAAD,CAAR,CAKAN,QAAQ,CAACL,SAAS,CAACE,qBAAD,CAAV,CAAR,CAnBmC,iFAsBnCG,QAAQ,CAAC,CACPC,IAAI,CAAEX,qBADC,CAEPe,OAAO,CAAEX,YAFF,CAAD,CAAR,CAIAM,QAAQ,CAACL,SAAS,CAACC,sBAAD,CAAV,CAAR,CA1BmC,qEAAV,gEAAtB,CA+BP,MAAO,IAAMW,aAAY,CAAG,QAAfA,aAAe,mGAAM,kBAAMP,QAAN,+IAE5BA,QAAQ,CAAC,CACPC,IAAI,CAAEV,oBADC,CAAD,CAAR,CAF4B,uBAMVJ,MAAK,CAACqB,GAAN,CAAU,6CAAV,CANU,QAMtBJ,GANsB,gBAQ5BJ,QAAQ,CAAC,CACPC,IAAI,CAAET,oBADC,CAEPa,OAAO,CAAED,GAAG,CAACE,IAFN,CAAD,CAAR,CAR4B,mFAc5BN,QAAQ,CAAC,CACPC,IAAI,CAAER,oBADC,CAEPY,OAAO,CAAEX,YAFF,CAAD,CAAR,CAd4B,sEAAN,kEAArB"},"metadata":{},"sourceType":"module"}